<!doctype html><html lang=pt><head><meta charset=utf-8><title>Receber um PIX via QR Code</title><meta name=generator content="Hugo 0.69.0"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><link rel=stylesheet href=https://stone-co.github.io/plugins/bootstrap/bootstrap.min.css><link rel=stylesheet href=https://stone-co.github.io/plugins/themify-icons/themify-icons.css><link rel=stylesheet href=https://stone-co.github.io/plugins/highlight/hybrid.css><link rel=icon href=https://stone-co.github.io/images/favicon.png type=image/x-icon><link href=../../assets/css/circular.css rel=stylesheet><style>:root{--primary-color:#14aa4b;--body-color:#f8f9fd;--text-color:#677481;--text-color-dark:#5a6872;--white-color:#ffffff;--light-color:#f4f4f9;--font-family:'Circular'}</style><link href=https://stone-co.github.io/css/style.min.css rel=stylesheet media=screen><script src=https://stone-co.github.io/plugins/jquery/jquery-1.12.4.js></script><script src=https://stone-co.github.io/plugins/jquery/jquery-ui.js></script><script src=https://stone-co.github.io/plugins/bootstrap/bootstrap.min.js></script><script src=https://stone-co.github.io/plugins/match-height/jquery.matchHeight-min.js></script><script src=https://stone-co.github.io/plugins/highlight/highlight.pack.js></script><script>hljs.initHighlightingOnLoad();</script></head><body><header class="shadow-bottom sticky-top bg-white"><nav class="navbar navbar-expand-md navbar-light"><div class=container><a class="navbar-brand px-2" href=/><img class=img-fluid src=https://stone-co.github.io/stoneg.png alt="Stone OpenBank"></a>
<button class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#navigation aria-controls=navigation aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse text-center" id=navigation><ul class="navbar-nav ml-auto"><li class=nav-item><a class="nav-link text-dark" href=/></a></li><li class=nav-item><a class="nav-link text-dark" href=https://docs.openbank.stone.com.br/reference>Referência da API</a></li><li class=nav-item><a class="nav-link text-dark" href=/guias>Guias</a></li><li class=nav-item><a class="nav-link text-dark" href="https://app.pipefy.com/public/form/Qz4ptt_W?origem_do_lead=Formul%C3%A1rio%20comercial%20documenta%C3%A7%C3%A3o">Quero ser parceiro</a></li></ul></div></div></nav></header><section class="single section-sm pb-0"><div class=container><div class=row><div class=col-lg-3><div class="bg-white pl-lg-4 py-4 pr-4 mb-5 mb-lg-0 sticky-top top-100 overflow-hidden"><ul class=list-styled><a class="d-block h4 back-btn" href=/></a><li data-nav-id=https://stone-co.github.io/referencia-da-api/ title="Referência da API" class=sidelist><a href=https://stone-co.github.io/referencia-da-api/>Referência da API</a><ul><li data-nav-id=https://stone-co.github.io/referencia-da-api/stone-openbank/ title="Stone OpenBank" class=sidelist><a href=https://stone-co.github.io/referencia-da-api/stone-openbank/>Stone OpenBank</a><ul><li data-nav-id=https://stone-co.github.io/referencia-da-api/stone-openbank/overview/ title=Overview class=sidelist><a href=https://stone-co.github.io/referencia-da-api/stone-openbank/overview/>Overview</a></li><li data-nav-id=https://stone-co.github.io/referencia-da-api/stone-openbank/autenticacao/ title=Autenticação class=sidelist><a href=https://stone-co.github.io/referencia-da-api/stone-openbank/autenticacao/>Autenticação</a></li><li data-nav-id=https://stone-co.github.io/referencia-da-api/stone-openbank/data-e-hora/ title="Data e Hora" class=sidelist><a href=https://stone-co.github.io/referencia-da-api/stone-openbank/data-e-hora/>Data e Hora</a></li><li data-nav-id=https://stone-co.github.io/referencia-da-api/stone-openbank/paginacao/ title=Paginação class=sidelist><a href=https://stone-co.github.io/referencia-da-api/stone-openbank/paginacao/>Paginação</a></li><li data-nav-id=https://stone-co.github.io/referencia-da-api/stone-openbank/valores-financeiros/ title="Valores Financeiros" class=sidelist><a href=https://stone-co.github.io/referencia-da-api/stone-openbank/valores-financeiros/>Valores Financeiros</a></li><li data-nav-id=https://stone-co.github.io/referencia-da-api/stone-openbank/codigos-de-resposta/ title="Códigos De Resposta" class=sidelist><a href=https://stone-co.github.io/referencia-da-api/stone-openbank/codigos-de-resposta/>Códigos De Resposta</a></li><li data-nav-id=https://stone-co.github.io/referencia-da-api/stone-openbank/mensagens-de-erro/ title="Mensagens De Erro" class=sidelist><a href=https://stone-co.github.io/referencia-da-api/stone-openbank/mensagens-de-erro/>Mensagens De Erro</a></li></ul></li><li data-nav-id=https://stone-co.github.io/referencia-da-api/pix/ title="PIX (Beta)" class=sidelist><a href=https://stone-co.github.io/referencia-da-api/pix/>PIX (Beta)</a><ul><li data-nav-id=https://stone-co.github.io/referencia-da-api/pix/o-que-e-o-pix/ title="O que é o PIX?" class=sidelist><a href=https://stone-co.github.io/referencia-da-api/pix/o-que-e-o-pix/>O que é o PIX?</a></li><li data-nav-id=https://stone-co.github.io/referencia-da-api/pix/cadastrar-uma-chave-pix/ title="Cadastrar uma Chave PIX" class=sidelist><a href=https://stone-co.github.io/referencia-da-api/pix/cadastrar-uma-chave-pix/>Cadastrar uma Chave PIX</a></li><li data-nav-id=https://stone-co.github.io/referencia-da-api/pix/receber-um-pix-via-qr-code/ title="Receber um PIX via QR Code" class="sidelist
active"><a href=https://stone-co.github.io/referencia-da-api/pix/receber-um-pix-via-qr-code/>Receber um PIX via QR Code</a></li><li data-nav-id=https://stone-co.github.io/referencia-da-api/pix/pagar-um-pix/ title="Pagar um PIX" class=sidelist><a href=https://stone-co.github.io/referencia-da-api/pix/pagar-um-pix/>Pagar um PIX</a></li></ul></li></ul></li></ul></div></div><div class=col-lg-9><div class="p-lg-5 p-4 bg-white"><h2 class=mb-5>Receber um PIX via QR Code</h2><div class=content><div class="notices info"><p>Beta: O PIX ainda está em beta, o que significa que temos um grupo pequeno testando a funcionalidade para que então possamos liberar para todos.</p></div><p>Para receber um PIX via QR Code, a cliente precisa ter a sua chave aleatória cadastrada na instituição participante.</p><h4 id=criação-de-um-qr-code>Criação de um QR Code</h4><h5 id=exemplo-de-requisição>Exemplo de requisição:</h5><pre><code class=language-textmate data-lang=textmate>POST /api/v1/pix_payment_invoices
authorization: subject application:participante
content-type: application/json
x-stone-idempotency-key: string()

{
  &quot;amount&quot;: integer(),
  &quot;expiration&quot;: integer() | null, # valor em segundos, campo é opcional!
  &quot;account_id&quot;: uuid() # ID da conta da participante,
  &quot;customer_type&quot;: &quot;stone_account&quot; | &quot;external_account&quot;,
  &quot;customer_random_key&quot;: &lt;dict_key&gt; | null # do cliente da participante e precisa ser a chave dinâmica. Caso seja nula, assumimos que é a random do cliente
}

 - inside-gateway -&gt; pix-dispatcher
 - pix-dispatcher autoriza a criação
   - action: create_pix_invoice_participant_public
   - resource: paymentaccount/{{account_id()}}
   - scope: paymentaccount:pix_invoice
   - application_config: flag indirect_participant == true
</code></pre><h5 id=exemplo-de-resposta>Exemplo de resposta:</h5><pre><code class=language-textmate data-lang=textmate>201 CREATED
{
   &quot;id&quot;: &quot;54071fc2-8068-4b26-bed7-be112228ed98&quot;,
   &quot;amount&quot;: 1000,
   &quot;created_at&quot;: &quot;2020-08-19T13:49:43.094436Z&quot;,
   &quot;created_by&quot;: &quot;user:54071fc2-8068-4b26-bed7-be112228ed98&quot;
   &quot;revision&quot;: 0,
   &quot;data_url&quot;: &quot;https://api.openbank.stone.com.br/pix/{{jti()}}&quot; 

}
</code></pre><h4 id=consulta-de-um-qr-code-gerado>Consulta de um QR code gerado:</h4><h5 id=exemplo-de-requisição-1>Exemplo de requisição:</h5><pre><code class=language-textmate data-lang=textmate>GET /api/v1/pix_payment_invoices/:id
authorization: subject application:participante
content-type: application/json
</code></pre><h5 id=exemplo-de-resposta-1>Exemplo de resposta:</h5><pre><code class=language-textmate data-lang=textmate>200 OK
{
   &quot;id&quot;: &quot;54071fc2-8068-4b26-bed7-be112228ed98&quot;,
   &quot;amount&quot;: 1000,
   &quot;created_at&quot;: &quot;2020-08-19T13:49:43.094436Z&quot;,
   &quot;created_by&quot;: &quot;user:54071fc2-8068-4b26-bed7-be112228ed98&quot;
   &quot;revision&quot;: 0,
   &quot;data_url&quot;: &quot;https://api.openbank.stone.com.br/pix/{{jti()}}&quot; 
}
</code></pre><h5 id=exemplo-de-requisição-de-uma-lista-paginada>Exemplo de requisição de uma lista paginada:</h5><pre><code class=language-textmate data-lang=textmate>GET /api/v1/pix_payment_invoices?filter={
  customer_random_key: string(), 
  created_at: datetime(), 
  customer_type: string(), 
  account_id: uuid(),
  jti: string()
}
authorization: subject application:participante
content-type: application/json
</code></pre><h5 id=exemplo-de-resposta-2>Exemplo de resposta:</h5><pre><code class=language-textmate data-lang=textmate>200 OK

{{ lista paginada de resultados }}
</code></pre><h4 id=leitura-de-um-qr-code-gerado>Leitura de um QR Code gerado:</h4><p>(em breve)</p></div><nav class="pagination mt-3"><a class="nav nav-prev" href=https://stone-co.github.io/referencia-da-api/pix/cadastrar-uma-chave-pix/><i class="ti-arrow-left mr-2"></i><span class="d-none d-md-block">Cadastrar uma Chave PIX</span></a>
<a class="nav nav-next" href=https://stone-co.github.io/referencia-da-api/pix/pagar-um-pix/><span class="d-none d-md-block">Pagar um PIX</span><i class="ti-arrow-right ml-2"></i></a></nav></div></div></div></div></section><footer class="section pb-4"><div class=container><div class="row align-items-center"><div class="col-md-8 text-md-left text-center"><p class="mb-md-0 mb-4"></p></div><div class="col-md-4 text-md-right text-center"><ul class=list-inline><li class=list-inline-item><a class="text-color d-inline-block p-2" href=#><i class=ti-world></i></a></li><li class=list-inline-item><a class="text-color d-inline-block p-2" href=https://github.com/stone-co/go-stone-openbank><i class=ti-github></i></a></li></ul></div></div></div></footer><script src=https://stone-co.github.io/js/script.min.js></script></body></html>