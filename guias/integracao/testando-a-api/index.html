<!doctype html><html lang=pt><head><meta charset=utf-8><title>Testando a API</title><meta name=generator content="Hugo 0.69.0"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><link rel=stylesheet href=https://stone-co.github.io/plugins/bootstrap/bootstrap.min.css><link rel=stylesheet href=https://stone-co.github.io/plugins/themify-icons/themify-icons.css><link rel=stylesheet href=https://stone-co.github.io/plugins/highlight/hybrid.css><link rel=icon href=https://stone-co.github.io/images/favicon.png type=image/x-icon><link href=../../assets/css/circular.css rel=stylesheet><style>:root{--primary-color:#14aa4b;--body-color:#f8f9fd;--text-color:#677481;--text-color-dark:#5a6872;--white-color:#ffffff;--light-color:#f4f4f9;--font-family:'Circular'}</style><link href=https://stone-co.github.io/css/style.min.css rel=stylesheet media=screen><script src=https://stone-co.github.io/plugins/jquery/jquery-1.12.4.js></script><script src=https://stone-co.github.io/plugins/jquery/jquery-ui.js></script><script src=https://stone-co.github.io/plugins/bootstrap/bootstrap.min.js></script><script src=https://stone-co.github.io/plugins/match-height/jquery.matchHeight-min.js></script><script src=https://stone-co.github.io/plugins/highlight/highlight.pack.js></script><script>hljs.initHighlightingOnLoad();</script></head><body><header class="shadow-bottom sticky-top bg-white"><nav class="navbar navbar-expand-md navbar-light"><div class=container><a class="navbar-brand px-2" href=/><img class=img-fluid src=https://stone-co.github.io/stoneg.png alt="Stone OpenBank"></a>
<button class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#navigation aria-controls=navigation aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse text-center" id=navigation><ul class="navbar-nav ml-auto"><li class=nav-item><a class="nav-link text-dark" href=/></a></li><li class=nav-item><a class="nav-link text-dark" href=https://docs.openbank.stone.com.br/reference>Referência da API</a></li><li class=nav-item><a class="nav-link text-dark" href=/guias>Guias</a></li><li class=nav-item><a class="nav-link text-dark" href="https://app.pipefy.com/public/form/Qz4ptt_W?origem_do_lead=Formul%C3%A1rio%20comercial%20documenta%C3%A7%C3%A3o">Quero ser parceiro</a></li></ul></div></div></nav></header><section class="single section-sm pb-0"><div class=container><div class=row><div class=col-lg-3><div class="bg-white pl-lg-4 py-4 pr-4 mb-5 mb-lg-0 sticky-top top-100 overflow-hidden"><ul class=list-styled><a class="d-block h4 back-btn" href=/></a><li data-nav-id=https://stone-co.github.io/guias/ title=Guias class=sidelist><a href=https://stone-co.github.io/guias/>Guias</a><ul><li data-nav-id=https://stone-co.github.io/guias/stone-openbank-api/ title="Stone Openbank API" class=sidelist><a href=https://stone-co.github.io/guias/stone-openbank-api/>Stone Openbank API</a><ul><li data-nav-id=https://stone-co.github.io/guias/stone-openbank-api/overview/ title=Overview class=sidelist><a href=https://stone-co.github.io/guias/stone-openbank-api/overview/>Overview</a></li><li data-nav-id=https://stone-co.github.io/guias/stone-openbank-api/quickstart/ title=Quickstart class=sidelist><a href=https://stone-co.github.io/guias/stone-openbank-api/quickstart/>Quickstart</a></li><li data-nav-id=https://stone-co.github.io/guias/stone-openbank-api/ambientes-da-api/ title="Ambientes da API" class=sidelist><a href=https://stone-co.github.io/guias/stone-openbank-api/ambientes-da-api/>Ambientes da API</a></li></ul></li><li data-nav-id=https://stone-co.github.io/guias/a-conta-stone/ title="A Conta Stone" class=sidelist><a href=https://stone-co.github.io/guias/a-conta-stone/>A Conta Stone</a><ul><li data-nav-id=https://stone-co.github.io/guias/a-conta-stone/overview/ title=Overview class=sidelist><a href=https://stone-co.github.io/guias/a-conta-stone/overview/>Overview</a></li><li data-nav-id=https://stone-co.github.io/guias/a-conta-stone/modelos-de-parceria/ title="Modelos De Parceria" class=sidelist><a href=https://stone-co.github.io/guias/a-conta-stone/modelos-de-parceria/>Modelos De Parceria</a></li><li data-nav-id=https://stone-co.github.io/guias/a-conta-stone/aplicativos/ title=Aplicativos class=sidelist><a href=https://stone-co.github.io/guias/a-conta-stone/aplicativos/>Aplicativos</a></li></ul></li><li data-nav-id=https://stone-co.github.io/guias/integracao/ title=Integração class=sidelist><a href=https://stone-co.github.io/guias/integracao/>Integração</a><ul><li data-nav-id=https://stone-co.github.io/guias/integracao/boas-praticas/ title="Boas Práticas" class=sidelist><a href=https://stone-co.github.io/guias/integracao/boas-praticas/>Boas Práticas</a></li><li data-nav-id=https://stone-co.github.io/guias/integracao/cadastro-da-aplicacao/ title="Cadastro da Aplicação" class=sidelist><a href=https://stone-co.github.io/guias/integracao/cadastro-da-aplicacao/>Cadastro da Aplicação</a></li><li data-nav-id=https://stone-co.github.io/guias/integracao/autenticacao/ title=Autenticação class=sidelist><a href=https://stone-co.github.io/guias/integracao/autenticacao/>Autenticação</a></li><li data-nav-id=https://stone-co.github.io/guias/integracao/testando-a-api/ title="Testando a API" class="sidelist
active"><a href=https://stone-co.github.io/guias/integracao/testando-a-api/>Testando a API</a></li><li data-nav-id=https://stone-co.github.io/guias/integracao/consentimento/ title=Consentimento class=sidelist><a href=https://stone-co.github.io/guias/integracao/consentimento/>Consentimento</a></li><li data-nav-id=https://stone-co.github.io/guias/integracao/aprovacao/ title=Aprovação class=sidelist><a href=https://stone-co.github.io/guias/integracao/aprovacao/>Aprovação</a></li><li data-nav-id=https://stone-co.github.io/guias/integracao/webhooks/ title=Webhooks class=sidelist><a href=https://stone-co.github.io/guias/integracao/webhooks/>Webhooks</a></li></ul></li><li data-nav-id=https://stone-co.github.io/guias/tutoriais/ title=Tutoriais class=sidelist><a href=https://stone-co.github.io/guias/tutoriais/>Tutoriais</a><ul><li data-nav-id=https://stone-co.github.io/guias/tutoriais/integrando-na-pratica/ title="Integrando na Prática" class=sidelist><a href=https://stone-co.github.io/guias/tutoriais/integrando-na-pratica/>Integrando na Prática</a></li></ul></li></ul></li></ul></div></div><div class=col-lg-9><div class="p-lg-5 p-4 bg-white"><h2 class=mb-5>Testando a API</h2><div class=content><p>Nossa API é baseada em <a href=https://pt.wikipedia.org/wiki/REST>REST</a> e a comunicação é feita utilizando métodos de <a href=https://developer.mozilla.org/pt-BR/docs/Web/HTTP/Methods>requisição HTTP</a> (<strong>GET</strong>, <strong>POST</strong>, <strong>PUT</strong>, <strong>DELETE</strong>, etc).</p><p>Para todos os endpoints, o formato esperado para o <code>content_type</code> é sempre <code>application/json</code>. A URL base para a API em Sandbox é <code>https://sandbox-api.openbank.stone.com.br/api/v1</code>.</p><p>Abaixo temos um exemplo de uma requisição válida para a API em Sandbox, utilizando a ferramenta <code>curl</code>:</p><pre><code class=language-json5 data-lang=json5>curl --request GET \
  --url https://sandbox-api.openbank.stone.com.br/api/v1/institutions/197
</code></pre><p>O retorno das chamadas na API será, por padrão, um objeto do tipo JSON. A chamada anterior tem a seguinte resposta:</p><pre><code class=language-json5 data-lang=json5>{
  &quot;ispb_code&quot;:&quot;16501555&quot;,
  &quot;name&quot;:&quot;Stone Pagamentos S.A.&quot;,
  &quot;number_code&quot;:&quot;197&quot;,
  &quot;short_name&quot;:&quot;STONE PAGAMENTOS S.A.&quot;
}
</code></pre><p>A chamada abaixo é usada para enviar uma TED. Nesse caso, adicionamos como <em>headers</em> o tipo de conteúdo como sendo <code>application/json</code> e a autenticação via <code>Bearer token</code>, como discutida na sessão de autenticação.</p><pre><code class=language-json5 data-lang=json5>curl --request POST \
  --url https://sandbox-api.openbank.stone.com.br/api/v1/external_transfers \
  --header 'Content-Type: application/json' \
  --header 'authorization: Bearer {token}' \
  --data '{&quot;amount&quot;:3000,&quot;target&quot;:{&quot;account&quot;:{&quot;account_code&quot;:&quot;654321&quot;,&quot;branch_code&quot;:&quot;1234&quot;,&quot;institution_code&quot;:&quot;260&quot;},&quot;entity&quot;:{&quot;cpf&quot;:&quot;05971627007&quot;,&quot;name&quot;:&quot;Nome do destinatário&quot;}},&quot;account_id&quot;:&quot;f49a9d13-18dc-4811-b286-edd168a428b2&quot;}'
</code></pre><p>Essas requisições geram respostas, conforme podemos ver abaixo:</p><pre><code class=language-json5 data-lang=json5>{  
   &quot;amount&quot;:16600,
   &quot;approval_expired_at&quot;:null,
   &quot;approved_at&quot;:&quot;2019-06-07T18:57:57Z&quot;,
   &quot;approved_by&quot;:&quot;user:b2b80e9a-7412-47de-b303-2f70f3c8e279&quot;,
   &quot;cancelled_at&quot;:null,
   &quot;created_at&quot;:&quot;2019-06-07T18:57:57Z&quot;,
   &quot;created_by&quot;:&quot;user:b2b80e9a-7412-47de-b303-2f70f3c8e279&quot;,
   &quot;delayed_to_next_business_day&quot;:false,
   &quot;failed_at&quot;:null,
   &quot;fee&quot;:0,
   &quot;finished_at&quot;:null,
   &quot;id&quot;:&quot;05e2950b-ff0c-4b8f-aa5f-7055bb8bc6f1&quot;,
   &quot;refund_reason_code&quot;:null,
   &quot;refund_reason_description&quot;:null,
   &quot;refunded_at&quot;:null,
   &quot;rejected_at&quot;:null,
   &quot;rejected_by&quot;:null,
   &quot;scheduled_to_effective&quot;:null,
   &quot;scheduled_to_requested&quot;:null,
   &quot;settled_at&quot;:null,
   &quot;status&quot;:&quot;APPROVED&quot;,
   &quot;target&quot;:{  
      &quot;account&quot;:{  
         &quot;account_code&quot;:&quot;1241441&quot;,
         &quot;branch_code&quot;:&quot;1241&quot;,
         &quot;institution_code&quot;:&quot;00000000&quot;,
         &quot;institution_name&quot;:&quot;Banco do Brasil S.A.&quot;
      },
      &quot;entity&quot;:{  
         &quot;cpf&quot;:&quot;37818425098&quot;,
         &quot;name&quot;:&quot;fulano novo&quot;
      }
   }
}
</code></pre><h4 id=homologando-sua-integração>Homologando sua Integração</h4><p>Uma vez que o seu sistema que integra na API do Stone OpenBank está pronto e testado em Sandbox, você vai passar pelo processo de Homologação antes de ir para Produção.</p><p>Esse processo consiste em executar todas as ações que a sua Aplicação tem autorização para fazer, numa sequência definida e com o acompanhamento da equipe da Stone. Esse processo visa garantir que sua Aplicação vai funcionar conforme o esperado e que possui acesso a todos os recursos necessários.</p><p>Qualquer problema encontrado durante esta fase deve ser resolvido antes de prosseguir com a subida para Produção.</p></div><nav class="pagination mt-3"><a class="nav nav-prev" href=https://stone-co.github.io/guias/integracao/autenticacao/><i class="ti-arrow-left mr-2"></i><span class="d-none d-md-block">Autenticação</span></a>
<a class="nav nav-next" href=https://stone-co.github.io/guias/integracao/consentimento/><span class="d-none d-md-block">Consentimento</span><i class="ti-arrow-right ml-2"></i></a></nav></div></div></div></div></section><footer class="section pb-4"><div class=container><div class="row align-items-center"><div class="col-md-8 text-md-left text-center"><p class="mb-md-0 mb-4"></p></div><div class="col-md-4 text-md-right text-center"><ul class=list-inline><li class=list-inline-item><a class="text-color d-inline-block p-2" href=#><i class=ti-world></i></a></li><li class=list-inline-item><a class="text-color d-inline-block p-2" href=https://github.com/stone-co/go-stone-openbank><i class=ti-github></i></a></li></ul></div></div></div></footer><script src=https://stone-co.github.io/js/script.min.js></script></body></html>